{"version":3,"sources":["main.js","modernizr.js"],"names":["document","addEventListener","asignarEventoNav","cambiarSeccion","ajustesFormulario","permisoNotificacion","ubicacion","referenciaServicios","servicioAgregado","querySelector","contenedorCard","evaluarServicio","formulario","revisarFormulario","contenedorCardResumen","seccionResumen","rutaImgErrorForm","links","querySelectorAll","Notification","requestPermission","forEach","link","ubicacionNav","classList","contains","remove","e","target","dataset","id","textContent","nombreSeccion","mostrarResumen","consultarAPI","seccion","rutaCompleta","rutaBase","data","peticion","json","pintarDatos","alertas","rutaImgErrorApi","limpiarContenido","add","content","tempCard","idServicio","nombre","piezas","precio","detalles","servicio","clone","cloneNode","fragment","appendChild","prepararServiciosForm","pintarResumen","alertaResumen","tempResumen","limpiarResumen","length","acciones","totalPiezas","totalPrecio","cantidad","servicioObj","servicioArray","filter","pop","comprobarExistencia","notificacionMovimiento","agregarServicioNuevo","some","ser","actualizarSumarServicio","s","map","actualizarRestarServicio","servicioActualizado","serviciosArray","notificar","setTimeout","close","resumen","permission","bind","firstChild","removeChild","firstElementChild","imageUrl","ruta","texto","imageWidth","fire","imageHeight","confirmButtonText","mes","Date","dia","anio","fecha","getFullYear","fechaActual","preventDefault","regexCorreo","setAttribute","enviarDatos","datos","FormData","datosCompletos","from","values","every","c","trim","test","stringify","console","entries","servicios","log","Array","n","A","o","a","u","className","Modernizr","_config","classPrefix","baseVal","enableJSClass","RegExp","replace","enableClasses","join","i","f","toLowerCase","split","t","Boolean","_trigger","r","l","_version","usePrefixes","_q","on","this","addTest","push","name","fn","options","addAsyncTest","prototype","documentElement","nodeName","hasOwnProperty","call","constructor","_l","type","width","Image","onerror","onload","src","uri","shift","aliases","p","window"],"mappings":"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","file":"main.js","sourcesContent":["document.addEventListener('DOMContentLoaded', () => {\n  asignarEventoNav();\n  //cargar la sección de \"adornos\" por default\n  cambiarSeccion('adornos');\n  ajustesFormulario();\n  permisoNotificacion();\n});\n\nlet ubicacion = 'adornos'; //muestra el titulo de la pestaña por default\nlet referenciaServicios = []; //guardara el lote de servicios traidos... ver en función de consultarAPI\nlet servicioAgregado = []; //guarda los servicios que selecciona el usuario para \"comprar\"\nconst contenedorCard = document.querySelector('#contenedorCard');\ncontenedorCard.addEventListener('click', evaluarServicio); //para detectar el click al boton \"seleccionar\" pero al ser generado dinámicamente, no se puede asignar el evento directamente al botón, por eso se le asigna al padre (delegacion de eventos)\nconst contenedorCardResumen = document.querySelector('#contenedorCardResumen');\nconst formulario = document.querySelector('#formulario');\nformulario.addEventListener('submit', revisarFormulario);\nconst seccionResumen = document.querySelector('#seccionResumen');\nconst rutaImgErrorApi = '../../build/img/error-servicios.png';\nconst rutaImgErrorForm = '../../build/img/error-formulario.jpg';\nconst links = document.querySelectorAll('.navegacion .nav-item');\n\nfunction permisoNotificacion() {\n  if ((\"Notification\" in window)){\n    Notification.requestPermission();\n  }\n  return;\n}\n\nfunction asignarEventoNav() {\n  links.forEach(link => {\n    link.addEventListener('click', ubicacionNav);\n  });\n}\n\nfunction ubicacionNav(e) {\n  //da la clase active\n  links.forEach(link => {\n    if (link.classList.contains('active')) {\n      link.classList.remove('active');\n    }\n  });\n  e.target.classList.add('active');\n\n  //SE PASA LA UBICACIÓN CONTENIDO EN EL DATASET.ID DEL ENLACE SELECCIONADO Y ASI PINTAR EL TITULO DE LA SECCIÓN SELECCIONADA\n  ubicacion = e.target.dataset.id;\n cambiarSeccion(ubicacion);\n}\n\nfunction cambiarSeccion(nombreSeccion) {\n  document.querySelector('#tituloSeccion').textContent = nombreSeccion;\n  nombreSeccion === 'resumen' ? mostrarResumen() : consultarAPI(nombreSeccion);\n}\n\nasync function consultarAPI(seccion) {\n  //JSON SERVER DEBE DE INICIARSE EN EL PUERTO 3500 CUALQUIER OTRO PUERTO O RUTA DEBE SER MODIFICADA AQUI\n  const rutaBase = 'http://localhost:3500/';\n  const seccionApi = seccion;\n  const rutaCompleta = rutaBase + seccionApi;\n\n  try {\n    const peticion = await fetch(rutaCompleta);\n    const data = await peticion.json();\n    //referenciaServicios guarda los servicios traidos para que cuando el usuario seleccione un servicio, no se haga la consulta con fetch, solo se realiza un filtrado a al variable referenciaServicios\n    referenciaServicios = data;\n    //Pinta los datos traidos de la api fake \n    pintarDatos(data);\n  } catch (error) {\n    alertas('Ouch!!', 'Lo sentimos, algo pasa al consultar nuestros servicios. revise su conexión a internet o intentelo más tarde. Gracias', rutaImgErrorApi);\n  }\n}\n\nfunction pintarDatos(data) {\n  //SE LIMPIA EL CONTENEDOR DE LAS CARDS PARA MOSTRAR LA NUEVA SELECCIÓN\n  limpiarContenido();\n  //SE OCULTA FORMULARIO Y SE MUESTRAN LA SECCIÓN CON CARDS\n  seccionResumen.classList.add('ocultar');\n  contenedorCard.classList.remove('ocultar');\n\n  const fragment = document.createDocumentFragment();\n  const tempCard = document.querySelector('#templateCard').content;\n\n  data.forEach(servicio => {\n    const {\n      idServicio,\n      nombre,\n      piezas,\n      precio,\n      detalles\n    } = servicio;\n    tempCard.querySelector('#cardTitulo').textContent = nombre;\n    tempCard.querySelector('#cardCantidad span').textContent = piezas;\n    tempCard.querySelector('#cardPrecio span').textContent = precio;\n    tempCard.querySelector('#cardSeleccionar').dataset.id = idServicio;\n    tempCard.querySelector('#cardDetalle span').textContent = detalles;\n\n    const clone = tempCard.cloneNode(true);\n    fragment.appendChild(clone);\n  });\n  contenedorCard.appendChild(fragment);\n\n}\n\nfunction mostrarResumen() {\n  limpiarContenido();\n  //convierte a string el objeto para insertarlo en el textArea oculto y enviarlo en el formData al ejecutar la función enviarDatos\n  prepararServiciosForm();\n  if (seccionResumen.classList.contains('ocultar')) {\n    seccionResumen.classList.remove('ocultar');\n    seccionResumen.classList.add('mostrar');\n    contenedorCard.classList.add('ocultar');\n  }\n  //pintar Resumen en HTML\n  return pintarResumen();\n}\n\nfunction pintarResumen() {\n  const alertaResumen = document.querySelector('#alertaResumen');\n  const tempResumen = document.querySelector('#templateResumenCard').content;\n  const fragment = document.createDocumentFragment();\n  limpiarResumen();\n\n  if (servicioAgregado.length < 1) {\n    formulario.classList.add('ocultar');\n    alertaResumen.textContent = ' Aún no ha seleccionado servicios...';\n    document\n    return;\n  }\n  formulario.classList.remove('ocultar');\n  contenedorCardResumen.addEventListener('click', acciones);\n  alertaResumen.textContent = '';\n  servicioAgregado.forEach(servicio => {\n    const {\n      idServicio,\n      nombre,\n      piezas,\n      precio,\n      detalles,\n      totalPiezas,\n      totalPrecio,\n      cantidad\n    } = servicio;\n    tempResumen.querySelector('#resumenTitulo').textContent = nombre;\n    tempResumen.querySelector('#resumenDetalle span').textContent = detalles;\n    tempResumen.querySelector('#resumenPiezas span').textContent = piezas;\n    tempResumen.querySelector('#resumenPrecio span').textContent = precio;\n    tempResumen.querySelector('#resumenCantidad span').textContent = cantidad;\n    tempResumen.querySelector('#resumenPiezasTotal span').textContent = totalPiezas;\n    tempResumen.querySelector('#resumenPrecioTotal span').textContent = totalPrecio;\n    tempResumen.querySelector('#sumarServicio').dataset.id = idServicio;\n    tempResumen.querySelector('#removerServicio').dataset.id = idServicio;\n\n    const clone = tempResumen.cloneNode(true);\n    fragment.appendChild(clone);\n  });\n  contenedorCardResumen.appendChild(fragment);\n  return;\n}\n\n\nfunction evaluarServicio(e) {\n  const idSeleccionado = e.target.id;\n  if (idSeleccionado !== 'cardSeleccionar') return null;\n\n  //filtrar el servicio seleccionado de entre todos los disponibles\n  const servicioArray = referenciaServicios.filter(servicio => servicio.idServicio === e.target.dataset.id);\n  const servicioObj = servicioArray.pop();\n  //comprobar si ya se eligió anteriormente el servicio o no\n  const existe = comprobarExistencia(servicioObj);\n\n  //agregar el servicio si no existe\n  //se agrega a \"servicioAgregado\" y se usa .pop() ya que servicio es [{}] y queremos {}... \n  existe ? actualizarSumarServicio(servicioObj) : agregarServicioNuevo(servicioObj);\n  //se notifica al usuario que ya tiene un \"resumen\" que ver\n  notificacionMovimiento();\n  return;\n\n}\n\nfunction comprobarExistencia(servicioObj) {\n  if (servicioAgregado.some(ser => ser.idServicio === servicioObj.idServicio)) {\n    return true;\n  } else {\n    return false;\n  }\n}\n\nfunction agregarServicioNuevo(servicioObj) {\n  servicioObj.totalPrecio = servicioObj.precio;\n  servicioObj.totalPiezas = servicioObj.piezas;\n  return servicioAgregado = [...servicioAgregado, servicioObj];\n}\n\nfunction actualizarSumarServicio(servicioObj) {\n  servicioAgregado.map(s => {\n    if (s.idServicio === servicioObj.idServicio) {\n      s.cantidad++;\n      s.totalPrecio = (s.precio * s.cantidad);\n      s.totalPiezas = (s.cantidad * s.piezas);\n    }\n    return s;\n  });\n}\n\nfunction actualizarRestarServicio(servicioObj) {\n  servicioAgregado.map(s => {\n    if (s.idServicio === servicioObj.idServicio) {\n      s.cantidad--;\n      s.totalPrecio = (s.cantidad * s.precio);\n      s.totalPiezas = (s.cantidad * s.piezas);\n      return s;\n    }\n  });\n\n  servicioAgregado.forEach((servicio, index, serviciosArray) => {\n    if (servicio.idServicio === servicioObj.idServicio && servicio.cantidad < 1) {\n      servicioActualizado = serviciosArray.filter(s => s.cantidad !== 0);\n      return servicioAgregado = servicioActualizado;\n    }\n\n  });\n}\n\n\nfunction notificacionMovimiento() {\n  const resumen = document.querySelector('#resumen');\n  servicioAgregado.length > 0 ? resumen.classList.add('notificacion') : resumen.classList.remove('notificacion');\n\n  if (Notification.permission === 'granted') {\n    let notificar = new Notification('Has agregado un nuevo servicio. Ver resumen');\n    setTimeout(notificar.close.bind(notificar), 5000);\n  }\n  return;\n}\n\n\nfunction acciones(e) {\n  let servicioObj = servicioAgregado.filter(s => s.idServicio === e.target.dataset.id);\n  servicioObj = servicioObj.pop();\n\n  if (e.target.id === 'sumarServicio') {\n    actualizarSumarServicio(servicioObj);\n    prepararServiciosForm();\n    return pintarResumen();\n  } else if (e.target.id === 'removerServicio') {\n    actualizarRestarServicio(servicioObj);\n    notificacionMovimiento();\n    prepararServiciosForm();\n    return pintarResumen();\n  }\n}\n\nfunction limpiarContenido() {\n  while (contenedorCard.firstChild) {\n    contenedorCard.removeChild(contenedorCard.firstChild);\n  }\n  return;\n\n}\n\nfunction limpiarResumen() {\n  while (contenedorCardResumen.firstElementChild) {\n    contenedorCardResumen.removeChild(contenedorCardResumen.firstChild);\n  }\n  return;\n}\n\nfunction alertas(titulo, texto, ruta) {\n  return Swal.fire({\n    title: titulo,\n    text: texto,\n    imageUrl: ruta,\n    imageWidth: 350,\n    imageHeight: 200,\n    confirmButtonText: 'Entendido'\n  })\n}\n\n//FORMULARIO\nfunction ajustesFormulario() {\n  const fecha = new Date();\n  let anio = fecha.getFullYear();\n  let mes = fecha.getMonth() + 1;\n  let dia = fecha.getDate();\n\n  mes = mes < 10 ? 0 + '' + mes : mes;\n  dia = dia < 10 ? 0 + '' + dia : dia;\n\n  const fechaActual = `${anio}-${mes}-${dia}`;\n  document.querySelector('#fecha').setAttribute('min', fechaActual);\n  return;\n}\n\n\nfunction revisarFormulario(e) {\n  e.preventDefault();\n  const regexCorreo = /\\S+@\\S+\\.\\S+/;\n\n  const datos = new FormData(formulario);\n  const campos = Array.from(datos.values());\n  //revisa que todos los campos este commpletos\n  const datosCompletos = campos.every(c => c.trim() !== '');\n\n  if (datosCompletos) {\n    enviarDatos(datos);\n  }\n  if (!datosCompletos) {\n    return alertas('Revisar campos', 'Todos los campos son obligatorios', rutaImgErrorForm);\n  }\n  if (!regexCorreo.test(datos.get('correo'))) {\n    return alertas('Revisar correo', 'El correo no parece ser válido', rutaImgErrorForm);\n  }\n}\n\nfunction prepararServiciosForm() {\n  const servicios = JSON.stringify(servicioAgregado);\n  document.querySelector('#selecciones').textContent = servicios;\n  return;\n}\n\nfunction enviarDatos(datos) {\n  console.log(Array.from(datos.entries()));\n\n  alertas('AVISO', 'falta agregar ajax para enviar los datos f12 para ver el console log con los datos que se enviarían');\n  // const url = 'http://localhost:3500/servicios';\n  // fetch(url, {\n  //     method: 'POST',\n  //     body: new FormData(formulario),\n  //     // headers: {\n  //     //   \"Content-type\": \"application/json; charset=UTF-8\"\n  //     // }\n  //   })\n  //   .then(res => {\n  //     console.log(res);\n  //   })\n  //   .catch(error => {\n  //     alertas('Error de envío', 'Ha ocurrido un error al enviar sus datos', rutaImgErrorApi);\n  //   })\n\n  // // return;\n}\n\n\n\n\n\n\n\n\n\n\n\n// async function consultarFakeApi() {\n\n//   try {\n//     await Promise.all([\n//         fetch('http://localhost:3500/adornos'),\n//         fetch('http://localhost:3500/bebidas'),\n//         fetch('http://localhost:3500/alimentos'),\n//         fetch('http://localhost:3500/entretenimiento')\n//       ])\n//       .then(res => {\n//         return Promise.all(res.map(p => p.json()))\n//       })\n//       .then(data => console.log(data));\n//   } catch (error) {\n//     errores('Ouch!!', 'Lo sentimos, algo pasa al consultar nuestros servicios. revise su conexión a internet o intentelo más tarde. Gracias', rutaImgErrorApi);\n//   }\n\n// }","/*! modernizr 3.6.0 (Custom Build) | MIT *\n * https://modernizr.com/download/?-webp-setclasses !*/\n !function(e,n,A){function o(e,n){return typeof e===n}function t(){var e,n,A,t,a,i,l;for(var f in r)if(r.hasOwnProperty(f)){if(e=[],n=r[f],n.name&&(e.push(n.name.toLowerCase()),n.options&&n.options.aliases&&n.options.aliases.length))for(A=0;A<n.options.aliases.length;A++)e.push(n.options.aliases[A].toLowerCase());for(t=o(n.fn,\"function\")?n.fn():n.fn,a=0;a<e.length;a++)i=e[a],l=i.split(\".\"),1===l.length?Modernizr[l[0]]=t:(!Modernizr[l[0]]||Modernizr[l[0]]instanceof Boolean||(Modernizr[l[0]]=new Boolean(Modernizr[l[0]])),Modernizr[l[0]][l[1]]=t),s.push((t?\"\":\"no-\")+l.join(\"-\"))}}function a(e){var n=u.className,A=Modernizr._config.classPrefix||\"\";if(c&&(n=n.baseVal),Modernizr._config.enableJSClass){var o=new RegExp(\"(^|\\\\s)\"+A+\"no-js(\\\\s|$)\");n=n.replace(o,\"$1\"+A+\"js$2\")}Modernizr._config.enableClasses&&(n+=\" \"+A+e.join(\" \"+A),c?u.className.baseVal=n:u.className=n)}function i(e,n){if(\"object\"==typeof e)for(var A in e)f(e,A)&&i(A,e[A]);else{e=e.toLowerCase();var o=e.split(\".\"),t=Modernizr[o[0]];if(2==o.length&&(t=t[o[1]]),\"undefined\"!=typeof t)return Modernizr;n=\"function\"==typeof n?n():n,1==o.length?Modernizr[o[0]]=n:(!Modernizr[o[0]]||Modernizr[o[0]]instanceof Boolean||(Modernizr[o[0]]=new Boolean(Modernizr[o[0]])),Modernizr[o[0]][o[1]]=n),a([(n&&0!=n?\"\":\"no-\")+o.join(\"-\")]),Modernizr._trigger(e,n)}return Modernizr}var s=[],r=[],l={_version:\"3.6.0\",_config:{classPrefix:\"\",enableClasses:!0,enableJSClass:!0,usePrefixes:!0},_q:[],on:function(e,n){var A=this;setTimeout(function(){n(A[e])},0)},addTest:function(e,n,A){r.push({name:e,fn:n,options:A})},addAsyncTest:function(e){r.push({name:null,fn:e})}},Modernizr=function(){};Modernizr.prototype=l,Modernizr=new Modernizr;var f,u=n.documentElement,c=\"svg\"===u.nodeName.toLowerCase();!function(){var e={}.hasOwnProperty;f=o(e,\"undefined\")||o(e.call,\"undefined\")?function(e,n){return n in e&&o(e.constructor.prototype[n],\"undefined\")}:function(n,A){return e.call(n,A)}}(),l._l={},l.on=function(e,n){this._l[e]||(this._l[e]=[]),this._l[e].push(n),Modernizr.hasOwnProperty(e)&&setTimeout(function(){Modernizr._trigger(e,Modernizr[e])},0)},l._trigger=function(e,n){if(this._l[e]){var A=this._l[e];setTimeout(function(){var e,o;for(e=0;e<A.length;e++)(o=A[e])(n)},0),delete this._l[e]}},Modernizr._q.push(function(){l.addTest=i}),Modernizr.addAsyncTest(function(){function e(e,n,A){function o(n){var o=n&&\"load\"===n.type?1==t.width:!1,a=\"webp\"===e;i(e,a&&o?new Boolean(o):o),A&&A(n)}var t=new Image;t.onerror=o,t.onload=o,t.src=n}var n=[{uri:\"data:image/webp;base64,UklGRiQAAABXRUJQVlA4IBgAAAAwAQCdASoBAAEAAwA0JaQAA3AA/vuUAAA=\",name:\"webp\"},{uri:\"data:image/webp;base64,UklGRkoAAABXRUJQVlA4WAoAAAAQAAAAAAAAAAAAQUxQSAwAAAABBxAR/Q9ERP8DAABWUDggGAAAADABAJ0BKgEAAQADADQlpAADcAD++/1QAA==\",name:\"webp.alpha\"},{uri:\"data:image/webp;base64,UklGRlIAAABXRUJQVlA4WAoAAAASAAAAAAAAAAAAQU5JTQYAAAD/////AABBTk1GJgAAAAAAAAAAAAAAAAAAAGQAAABWUDhMDQAAAC8AAAAQBxAREYiI/gcA\",name:\"webp.animation\"},{uri:\"data:image/webp;base64,UklGRh4AAABXRUJQVlA4TBEAAAAvAAAAAAfQ//73v/+BiOh/AAA=\",name:\"webp.lossless\"}],A=n.shift();e(A.name,A.uri,function(A){if(A&&\"load\"===A.type)for(var o=0;o<n.length;o++)e(n[o].name,n[o].uri)})}),t(),a(s),delete l.addTest,delete l.addAsyncTest;for(var p=0;p<Modernizr._q.length;p++)Modernizr._q[p]();e.Modernizr=Modernizr}(window,document);"]}